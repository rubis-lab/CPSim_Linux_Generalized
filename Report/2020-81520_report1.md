# Report 1 Erik Bock

This report will contain information about what I did to improve the lap time for the car simulator.

I started by looking at the base setting and the constraints we were given. I noticed that the execution times for the BRAKE, LOCAL, POWER and SENSING were twice as long (100) as they had to be according to the constraints. Having the execution times be longer than necessary does nothing positive for the system, since the only result will be that these tasks take up more time from the ECU. I therefore lowered all the execution times to 50, since this is the lowest they can go while still respecting the constraints and not changing the period.

My next step was to change the read2 variable in CC.cpp, which affects the cars speed. I increased it since I wanted to see which of the tasks it was thay was the biggest liability when the speed of the car increased. When the speed increased the task LK, which is in charge of turning the car, was unable to keep up, often resulting in the car crashing into the sides of the track or getting stuck completely. With the phrase "unable to keep up" I'm referring to the fact that the time between each time the task was run (the period) was too large, which means that the car turns but does not get the opportunity to turn again before it hits a wall or goes off the track. To remedy this problem I changed the period to 260, which also meant that the execution time could be changed to 26 (which like explained earlier is only a good thing). The number 260 was not chosen arbitrarily, but instead due to the constraints. If I would have chosen 250 the execution time would have had to be 50 since the constraints change when the period is 250 or lower. With these improvements the car was able to go with a speed of 60km/h.

However, I noticed that the car's turns were a bit too "aggressive", so I went into LK.cpp and changed the steer value to 2000. Doing so would make the steering seem a bit more fluid, but it would also reduce the car's capability of quick turns. To address this issue I also lowered the period for the task LK to 110 (yet again not arbitrary, but due to constraints), and since I was now in the bracket (100,250] I needed to set the execution time to at least 22. With these improvements the car was able to go with an average speed of 70km/h.

After all the changes the time it took the car to do a lap was around 1:15-1:25, which I thought was a rather good improvement. It also never missed a deadline, which was even more important.

While I was working on the logging task and running torcs to get the output I noticed that the car would crash (although very infrequently), but I was unable to recreate it. I believe it has to do with an unfortunate ordering of tasks during some of the "risk zones" (curves) around the track. I changed the steer value to 2500 which seemed to help mitigate this issue somewhat. The lap time was not altered by this change.